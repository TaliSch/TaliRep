@model MyBlogEmpty.ViewModels.HomeViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*<script type="text/javascript" charset="utf-8">
    $().ready(function () {
        location.href = "/Posts/Index";
    })
    </script>*@
<script src="@Url.Content("~/Scripts/Home.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/lz-string-1.3.3.js")"></script>
@{var url = "~/Content/home" + Model.Preferences.Style + ".css"; var absoluteUrl = Url.Content(url); }
<link rel="stylesheet" type="text/css" href="@absoluteUrl"/>

<header class="adminFixed">
    <span class="hiddenLogin"><label>Password:</label><input type="password"/><button id="passwordButton">Sign In</button></span><button id="loginButton">Login</button>
    
    <div class="adminSection">
        <a href="/Admin">Admin</a>
        @{var checkedStr1= (Model.Preferences.Style=="1") ? "checked=checked" : "";
          var checkedStr2 = (Model.Preferences.Style == "2") ? "checked=checked" : "";
          var checkedStr3 = (Model.Preferences.Style == "3") ? "checked=checked" : ""; 
          }
        <label id="changeStyle"> | Change Style</label>
        <label>1</label><input id="style1" type="radio" name="style" value="1" @checkedStr1/>
     
        <label>2</label><input id="style2" type="radio" name="style" value="2" @checkedStr2/>
     
        <label>3</label><input id="style3" type="radio" name="style" value="3" @checkedStr3/>
        <button id="signOutButton">Sign Out</button>
        <hr />
    </div>
</header>


<header class="blogHeader">  
    <label>
        @Model.Preferences.Title  
    </label>  
</header>

@*git push origin master*@
@*Enable-Migrations -Force -ContextTypeName MyBlogEmpty.Models.BlogDBContext
add-migration Initial
AutomaticMigrationDataLossAllowed = true;
update database*@

@{var checkedStr = (ViewBag.Admin) ? "checked=checked" : "";}
<input type="checkbox" id="AdminState" hidden @checkedStr/>
<form id="posts">  
    @{var postIndex = 0; }
    @{string postId = ""; }
    
    @foreach (var item in Model.Posts) {
        { postId = "postId" + postIndex.ToString(); postIndex++; } 
        <div class="post" id="@postId">
        
        <input class="postTitle" value= "@item.Title" type="text" />
             @{var dateStr = item.Date.ToString("m")+", "+item.Date.Year.ToString();}
        <input class="postDate" value= "@dateStr" type="text" />
        <input class ="postContent" value="@item.Content" type="text" />
        </div>
        
    }
    End
</form>
<div id="olderPosts"><button>Older Posts</button></div>
<div id="parts">
</div>



