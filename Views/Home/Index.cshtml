@model MyBlogEmpty.ViewModels.HomeViewModel
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewBag.LoginStarter = ViewBag.Admin ? "logout" : "login";
    ViewBag.LoginViewname = "Home";

    var url = "~/Content/me.png"; var absoluteUrl = Url.Content(url);
}

@*<script type="text/javascript" charset="utf-8">
    $().ready(function () {
        location.href = "/Posts/Index";
    })
    </script>*@
<script src="@Url.Content("~/Scripts/Home/Home.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/lz-string-1.3.3.js")"></script>

@{var urlJS = "~/Scripts/Home/home" + Model.Preferences.Style + ".js"; var absoluteUrlJS = Url.Content(urlJS); }
<script src="@absoluteUrlJS" type="text/javascript"></script>


@{var urlCSS = "~/Content/home" + Model.Preferences.Style + ".css"; var absoluteUrlCSS = Url.Content(urlCSS); }
<link rel="stylesheet" type="text/css" href="@absoluteUrlCSS"/>

<header class="adminFixed">
    <p></p>    
    <span class="adminSection">
        <a href="/Admin">Admin</a> | 
        @Html.Partial("SetStyle")        
    </span>    
    @Html.Partial("login")
    <hr />
</header>

<div class="blogHeaderWrapper">

<div class="blogHeaderTop" id="@Model.Preferences.Backgrownd">
     <div class="bottomBorder" ></div>

     <div class="myImage"   id="@Model.Preferences.Face" ></div>
     
 </div>
 

 
<header class="blogHeader">     
    <label>
        @Model.Preferences.Title  
    </label>      
</header>
    </div>

@*git push origin master*@
@*Enable-Migrations -Force -ContextTypeName MyBlogEmpty.Models.BlogDBContext
add-migration Initial
AutomaticMigrationDataLossAllowed = true;
update database*@


@{var checkedStr = (ViewBag.Admin) ? "checked=checked" : "";}
<input type="checkbox" id="AdminState" hidden @checkedStr/>
<div id="posts" hidden>  
    @{var postIndex = 0; }
    @{string postId = ""; }
    
    @foreach (var item in Model.Posts) {
        { postId = "postId" + postIndex.ToString(); postIndex++; } 
        <div class="post" id="@postId">
            <textarea class="postTitle">"@item.Title"</textarea>
                 @{var dateStr = item.Date.ToString("m")+", "+item.Date.Year.ToString();}
            @*<input class="postDate" value= "@dateStr" type="text" />*@
            <input class="postDate" value= "@item.Date" type="text" />
            <input class ="postContent" value="@item.Content" type="text" />
        </div>
    }
    
    <div id="olderPosts"><button>Older Posts</button></div>
</div>

<div id="parts">
</div>





